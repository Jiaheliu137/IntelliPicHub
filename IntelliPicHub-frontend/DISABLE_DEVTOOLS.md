# 禁用开发者工具功能说明

本项目实现了禁用F12开发者工具的功能，用于防止普通用户轻易查看网页源码和控制台。

## 功能特性

### 🔒 禁用的功能
- **F12** - 开发者工具
- **Ctrl+Shift+I** - 开发者工具
- **Ctrl+Shift+J** - 控制台
- **Ctrl+Shift+C** - 元素选择器
- **Ctrl+U** - 查看源码
- **右键菜单** - 防止通过右键访问开发者工具
- **开发者工具检测** - 检测开发者工具是否被打开
- **控制台清理** - 定期清空控制台内容

### 🎯 环境控制
- **开发环境**: 功能完全禁用，不影响开发调试
- **生产环境**: 功能自动启用，保护网站安全

## 实现方式

### 1. HTML层保护 (index.html)
```javascript
// 在HTML文件中直接嵌入脚本
// 优点：加载最早，保护最全面
// 通过检测hostname自动判断环境
```

### 2. TypeScript层保护 (src/utils/disableDevTools.ts)
```typescript
// 在Vue应用中通过TypeScript模块实现
// 优点：更好的类型支持和模块化
// 通过import.meta.env.MODE判断环境
```

## 使用方法

### 开发环境
```bash
npm run dev
```
- 所有保护功能都被禁用
- 可以正常使用F12和开发者工具
- 控制台会显示"开发环境：安全保护已禁用"

### 生产环境
```bash
npm run build-only
```
- 所有保护功能自动启用
- F12和相关快捷键被禁用
- 右键菜单被禁用
- 开发者工具检测启用
- 控制台定期清理

## 配置选项

### 修改检测阈值
在 `index.html` 中修改：
```javascript
const threshold = 160; // 调整这个值来改变检测敏感度
```

### 启用/禁用特定功能
在 `src/utils/disableDevTools.ts` 中：
```typescript
// 只启用基础保护（不包括开发者工具检测）
initBasicProtection()

// 启用完整保护
initDisableDevTools()
```

### 自定义警告信息
修改 `showWarning()` 函数中的消息内容。

## 注意事项

### ⚠️ 重要提醒
1. **不是绝对安全**: 这些措施只能防止普通用户，有经验的开发者仍然可以绕过
2. **不影响功能**: 所有保护措施都不会影响网站的正常功能
3. **开发友好**: 开发环境下完全不启用，不影响开发调试

### 🔧 开发建议
1. 在开发时可以临时禁用保护功能
2. 测试时建议在生产环境下验证保护效果
3. 可以根据需要调整保护级别

### 📝 自定义修改
如果需要修改保护策略，可以：
1. 修改 `index.html` 中的脚本逻辑
2. 调整 `disableDevTools.ts` 中的函数
3. 在 `main.ts` 中选择性启用功能

## 测试方法

### 开发环境测试
1. 运行 `npm run dev`
2. 按F12应该能正常打开开发者工具
3. 控制台显示"开发环境：安全保护已禁用"

### 生产环境测试
1. 运行 `npm run build-only`
2. 部署到服务器或使用本地服务器
3. 按F12应该被阻止
4. 右键菜单应该被禁用
5. 控制台显示保护启用信息

## 故障排除

### 如果保护功能没有生效
1. 检查是否在生产环境
2. 确认hostname不包含localhost/127.0.0.1/dev
3. 检查浏览器控制台是否有错误信息

### 如果需要临时禁用
1. 在浏览器地址栏添加 `?debug=true` 参数
2. 或者修改 `isProduction` 判断逻辑

## 更新日志

- **v1.0.0**: 初始版本，支持基础的F12和右键禁用
- **v1.1.0**: 添加开发者工具检测功能
- **v1.2.0**: 添加环境自动判断，开发环境不启用保护 