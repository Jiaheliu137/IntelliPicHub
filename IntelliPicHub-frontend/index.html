<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IntelliPicHub</title>
    
    <!-- ç¦ç”¨å¼€å‘è€…å·¥å…·è„šæœ¬ - ä»…åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨ -->
    <script>
      // æ£€æŸ¥æ˜¯å¦ä¸ºç”Ÿäº§ç¯å¢ƒï¼ˆé€šè¿‡æ£€æŸ¥æ˜¯å¦æœ‰å¼€å‘æœåŠ¡å™¨ç‰¹å¾ï¼‰
      const isProduction = !window.location.hostname.includes('localhost') && 
                          !window.location.hostname.includes('127.0.0.1') &&
                          !window.location.hostname.includes('dev');
      
      if (isProduction) {
        // ç¦ç”¨å³é”®èœå•
        document.addEventListener('contextmenu', function(e) {
          e.preventDefault();
          console.log('%cğŸš« Right-click menu disabled', 'color: orange; font-size: 12px;');
          return false;
        });
        
        // ç¦ç”¨F12å’Œå…¶ä»–å¼€å‘è€…å·¥å…·å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
          let blocked = false;
          
          // ç¦ç”¨F12
          if (e.key === 'F12') {
            blocked = true;
          }
          
          // ç¦ç”¨Ctrl+Shift+I (å¼€å‘è€…å·¥å…·)
          if (e.ctrlKey && e.shiftKey && e.key === 'I') {
            blocked = true;
          }
          
          // ç¦ç”¨Ctrl+Shift+J (æ§åˆ¶å°)
          if (e.ctrlKey && e.shiftKey && e.key === 'J') {
            blocked = true;
          }
          
          // ç¦ç”¨Ctrl+Shift+C (å…ƒç´ é€‰æ‹©å™¨)
          if (e.ctrlKey && e.shiftKey && e.key === 'C') {
            blocked = true;
          }
          
          // ç¦ç”¨Ctrl+U (æŸ¥çœ‹æºç )
          if (e.ctrlKey && e.key === 'u') {
            blocked = true;
          }
          
          if (blocked) {
            e.preventDefault();
            e.stopPropagation();
            console.clear();
            console.log('%cğŸ”’ Developer tool access has been restricted', 'color: red; font-size: 14px; font-weight: bold;');
            console.log('%cTo protect the website security, some features have been disabled', 'color: red; font-size: 12px;');
            return false;
          }
        });
        
        // æ£€æµ‹å¼€å‘è€…å·¥å…·æ˜¯å¦æ‰“å¼€
        let devtools = false;
        const threshold = 160;
        
        function detectDevTools() {
          const heightDiff = window.outerHeight - window.innerHeight;
          const widthDiff = window.outerWidth - window.innerWidth;
          
          if (heightDiff > threshold || widthDiff > threshold) {
            if (!devtools) {
              devtools = true;
              console.clear();
              console.log('%câš ï¸ Developer tool detected', 'color: red; font-size: 16px; font-weight: bold;');
              console.log('%cTo protect the website security, please close the developer tools', 'color: red; font-size: 12px;');
              
              // å¯é€‰ï¼šæ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„æç¤º
              // alert('æ£€æµ‹åˆ°å¼€å‘è€…å·¥å…·ï¼Œä¸ºäº†ä¿æŠ¤ç½‘ç«™å®‰å…¨ï¼Œè¯·å…³é—­å¼€å‘è€…å·¥å…·');
            }
          } else {
            devtools = false;
          }
        }
        
        // å®šæœŸæ£€æµ‹å¼€å‘è€…å·¥å…·
        setInterval(detectDevTools, 1000);
        
        // å®šæœŸæ¸…ç©ºæ§åˆ¶å°
        setInterval(function() {
          console.clear();
          console.log('%cğŸ›¡ï¸ IntelliPicHub - å®‰å…¨ä¿æŠ¤å·²å¯ç”¨', 'color: blue; font-size: 12px;');
        }, 3000);
        
        console.log('%cğŸ”’ Production environment security protection enabled', 'color: green; font-size: 12px; font-weight: bold;');
      } else {
        console.log('%cğŸ”§ Development environment: security protection disabled', 'color: orange; font-size: 12px;');
      }
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
